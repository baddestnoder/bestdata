<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="icon" href="/site_icon.jpg">

	<link rel="stylesheet" type="text/css" href="/css/purchase.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">




	<style type="text/css">

		@media screen and (min-width: 0){


			body{
				background-color: white;
			}


		.user_wrapper{
			color: black;
			width: 90%;
			margin: 20px auto 5px auto;
			display: grid;
			grid-template-columns: 50px 1fr;
		}

		.user_wrapper i{
			font-size: 40px;
		}


		.user_wrapper p{
			font-size: 13px;
			font-weight: 600;
			margin-top: 14px;
		}

		.wallet_wrapper{
			background-color: rgb(0, 35, 70);
			padding: 20px 25px;
			box-sizing: border-box;
			font-size: 0.8rem;
			font-weight: 400;
			color: rgb(250, 250, 250);
			width: 90%;
			margin: 20px auto 0 auto;
			border-radius: 10px;
		}


		.fund_wallet_wrapper{
			display: grid;
			grid-template-columns: 1fr 1fr 1fr;
			text-align: center;
			margin-top: 30px;
		}


		.fund_wallet_wrapper i{
			font-size: 30px;
			color: white;
		}


		.fund_wallet_wrapper h2{
			font-weight: 400;
			margin-top: 8px;
			font-size: 13px;
			color: 190, 190, 190;

		}


			h1{
				font-size: 2.2rem;
				text-align: left;
				width: 85%;
				margin: 50px auto 0 auto;
				border: none;
				border-radius: 0;
				color: rgb(70, 70, 70);
			}

			h1 span{
				font-size: 1.6rem;
				color: rgb(70, 70, 70);
				display: block;
				font-weight: 400;
				margin-top: 20px;
			}

			form{
				margin-top: 30px;
			}

			form > *{
				font-size: 1.5rem;
				display: block;
				height: 55px;
				width: 85%;
				margin: auto;
				margin-top: 10px;
			}

			input, select{
				color: gray;
				border: 1px solid gray;
			}

			form button{
				margin-top: 20px;
			}


		}



		

		@media screen and (min-width: 600px){
			main{
				width: 600px;
				margin: auto;
			}
		}

	</style>




	<title>Withdraw Reward</title>
</head>



<body>
	<div class="body_overlay"></div>


	<div class="user_wrapper">
		<i class="fas fa-user-circle"></i>
		<p>Hello, <%=data.fullName%> </p>
	</div>

	<section class="wallet_wrapper">
		<h2>Wallet Balance: ₦<%=data.wallet%></h2>
		<h2>Referral Reward: ₦<%=data.reward%></h2>

		<div class="fund_wallet_wrapper">
			<article onclick="window.location.href='/fund_method'">
				<i class="fas fa-university"></i>
				<h2>Add Money</h2>
			</article>

			<article onclick="window.location.href='/withdraw'">
				<i class="fas fa-location-arrow"></i>
				<h2>Withdraw</h2>
			</article>


			<article onclick="window.location.href='/referral'">
				<i class="fas fa-wallet"></i>
				<h2>My Wallet</h2>
			</article>

		</div>

	</section>




	<main>


		<h1>IS YOUR REWARD UP TO ₦10,000? <span>Enter your bank details below to withdraw your reward.</span></h1>

		<form data-reward="<%=data.reward%>" data-purchase="<%=data.purchase%>">
			<input required type="text" name="account_name" placeholder="Enter your account name">
			<input required type="number" name="account_number" placeholder="Enter your account number">
			<select required name="bank">
				<option disabled selected>Select your bank</option>
				<option value="access">Access Bank</option>
				<option value="ecobank">Ecobank</option>
				<option value="Fidelity">Fidelity Bank</option>
				<option value="first_bank">First Bank</option>
				<option value="first_city_monument_bank">First City Monument Bank</option>
				<option value="heritage_bank">Heritage Bank</option>
				<option value="gtb">GTB</option>
				<option value="jaiz">Jaiz Bank</option>
				<option value="keystone">Keystone</option>
				<option value="kuda">Kuda</option>
				<option value="opay">Opay</option>
				<option value="palmpay">PalmPay</option>
				<option value="polaris">Polaris Bank</option>
				<option value="sterling">Sterling Bank</option>
				<option value="uba">UBA</option>
				<option value="union_bank">Union Bank</option>
				<option value="wema">Wema Bank</option>
				<option value="zenith">Zenith Bank</option>
			</select>

			<button>Withdraw</button>
			<div class="submit_error"></div>
		</form>
	</main>




	<script type="text/javascript">

		const form = document.querySelector("form");
		let a = document.createElement("a");
		a.href = "/purchase";
		a.innerHTML = " Click Here "


		form.addEventListener("submit", (e)=>{
			e.preventDefault();

			if(parseInt(form.dataset.reward) < 10000){
				document.querySelector(".submit_error").innerHTML = "Insufficient Fund!!! You must have up to N10,000 in your reward before withdrawing.";
			}else if(form.dataset.purchase == "false"){
				document.querySelector(".submit_error").innerHTML = "Oops!!! Because you have never purchased up to N500 of data since you registered , you can not withdraw rewards at this time. You need to have purchase data bundle with us (at least N500) before being a valid user to withdraw rewards... " 

				document.querySelector(".submit_error").appendChild(a);
				document.querySelector(".submit_error").innerHTML += " to purchase data with use for the first time and become eligible to withdraw your rewards... Thank You.";
			}else{
				window.location.href = "/withdrawCheck"
			}


			
		});
		


	</script>


</body>
</html>